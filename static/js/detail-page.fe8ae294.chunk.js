"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[96],{197:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i,r,c,a,o,s,h=t(885),u=t(791),l=t(871),d=t(818),f=t(168),p=t(499),x=p.Z.div(i||(i=(0,f.Z)(["\n  width: 130px;\n  height: 200px;\n"]))),g=p.Z.img(r||(r=(0,f.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),v=t(184);function j(){var e=(0,l.UO)().movieId,n=(0,u.useState)([]),t=(0,h.Z)(n,2),i=t[0],r=t[1];return(0,u.useEffect)((function(){(0,d.IQ)(e).then(r).catch(console.log)}),[e]),(0,v.jsx)(v.Fragment,{children:i.length>0&&(0,v.jsx)("ul",{children:i.map((function(e){var n=e.character,t=e.name,i=e.profile_path,r=e.id;return(0,v.jsxs)("li",{children:[(0,v.jsx)(x,{children:(0,v.jsx)(g,{src:"https://image.tmdb.org/t/p/w400".concat(i),alt:t})}),(0,v.jsx)("p",{children:t}),(0,v.jsx)("p",{children:n})]},r)}))})})}var m=p.Z.div(c||(c=(0,f.Z)(["\n  padding: 15px;\n  display: flex;\n"]))),_=p.Z.div(a||(a=(0,f.Z)(["\n  width: 200px;\n  height: 280px;\n"]))),w=p.Z.img(o||(o=(0,f.Z)(["\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),Z=p.Z.div(s||(s=(0,f.Z)(["\n  margin-left: 15px;\n"])));var b=function(e){var n=e.movie;return(0,v.jsxs)(m,{children:[(0,v.jsx)(_,{children:(0,v.jsx)(w,{src:"https://image.tmdb.org/t/p/w400".concat(n.poster_path),alt:n.original_title})}),(0,v.jsxs)(Z,{children:[(0,v.jsx)("h3",{children:n.original_title}),(0,v.jsxs)("p",{children:["User Score: ",10*n.vote_average,"%"]}),(0,v.jsx)("h4",{children:"Overview"}),(0,v.jsx)("p",{children:n.overview}),(0,v.jsx)("h4",{children:"Genres"}),(0,v.jsx)("p",{children:function(e){var n=e.genres;return n.map((function(e){return e.name})).join(" ")}(n)})]})]})};function y(){var e=(0,l.UO)().movieId,n=(0,u.useState)(!1),t=(0,h.Z)(n,2),i=t[0],r=t[1],c=(0,u.useState)([]),a=(0,h.Z)(c,2),o=a[0],s=a[1];return(0,u.useEffect)((function(){r(!0),(0,d.Jh)(e).then(s).catch(console.log).finally((function(){return r(!1)}))}),[e]),(0,v.jsxs)(v.Fragment,{children:[o.length>0&&(0,v.jsx)("ul",{children:o.map((function(e){var n=e.id,t=e.author,i=e.content;return(0,v.jsxs)("li",{children:[(0,v.jsxs)("strong",{children:["Author: ",t]}),(0,v.jsx)("p",{children:i})]},n)}))}),0===o.length&&!i&&(0,v.jsx)("p",{children:"There is no review"})]})}var k=t(501);function U(){var e=(0,l.UO)().movieId,n=(0,u.useState)({}),t=(0,h.Z)(n,2),i=t[0],r=t[1],c=(0,l.s0)();(0,u.useEffect)((function(){e&&(0,d.Pg)(e).then(r).catch(console.log)}),[e]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{type:"button",onClick:function(){c(-1)},style:{margin:"15px 0px 0px 15px"},children:"Back"}),i.hasOwnProperty("id")&&(0,v.jsx)(b,{movie:i}),(0,v.jsxs)("div",{style:{padding:"15px"},children:[(0,v.jsx)("h4",{children:"Additional information"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:(0,v.jsx)(k.rU,{to:"/movies/".concat(e,"/cast"),children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(k.rU,{to:"/movies/".concat(e,"/reviews"),children:"Reviews"})})]})]}),(0,v.jsxs)(l.Z5,{children:[(0,v.jsx)(l.AW,{path:"cast",element:(0,v.jsx)(j,{})}),(0,v.jsx)(l.AW,{path:"reviews",element:(0,v.jsx)(y,{})})]})]})}},818:function(e,n,t){t.d(n,{Df:function(){return i},IQ:function(){return a},IR:function(){return o},Jh:function(){return c},Pg:function(){return r}});var i=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=0a0eacc01c98f8ef04ac7ca82867ea4e").then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.id,title:e.title}}))}))},r=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=0a0eacc01c98f8ef04ac7ca82867ea4e&language=en-US")).then((function(e){return e.json()}))},c=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=0a0eacc01c98f8ef04ac7ca82867ea4e&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=0a0eacc01c98f8ef04ac7ca82867ea4e&language=en-US&page=1")).then((function(e){return e.json()})).then((function(e){return e.cast.map((function(e){return{character:e.character,name:e.name,profile_path:e.profile_path,id:e.id}}))}))},o=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=0a0eacc01c98f8ef04ac7ca82867ea4e&language=en-US&page=1&include_adult=false&query=".concat(e)).then((function(e){return e.json()})).then((function(e){return e.results.map((function(e){return{id:e.id,title:e.title}}))}))}}}]);
//# sourceMappingURL=detail-page.fe8ae294.chunk.js.map